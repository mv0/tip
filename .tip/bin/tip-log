#! /bin/sh

for N in $(git branch | grep -vE ' master$| base$|for-linus|auto|linux-next|tmp' | cut -c3-); do

  ITEMS=$(git rev-list --reverse linus..$N -- $@)

  for M in $ITEMS; do
    echo
    echo "# $N: $(git log -1 --pretty=format:"%h: %s" $M $@)"
    echo
    git log -1 --pretty=email --no-merges $M $@ | cat
  done

done

